{% extends 'base.html' %}

{% block title %}FAQs | Festiva{% endblock %}

{% block content %}
<div class="faq-page">
    <!-- Hero Section -->
    <section class="faq-hero py-5 text-center">
        <div class="container py-4">
            <h1 class="display-4 fw-bold mb-3 animate__animated animate__fadeInDown">Frequently Asked Questions</h1>
            <p class="lead mb-4 animate__animated animate__fadeIn animate__delay-1s">Find quick answers to common questions about Festiva</p>
            
            <div class="row justify-content-center animate__animated animate__fadeInUp animate__delay-1s">
                <div class="col-lg-8">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control form-control-lg" placeholder="Search FAQs..." id="faqSearch">
                        <button class="btn btn-primary" type="button" id="searchButton">
                            <i class="bi bi-search"></i> Search
                        </button>
                    </div>
                    <div class="d-flex flex-wrap justify-content-center gap-2 mt-3">
                        <a href="#general" class="btn btn-sm btn-outline-light">General</a>
                        <a href="#organizers" class="btn btn-sm btn-outline-light">For Organizers</a>
                        <a href="#attendees" class="btn btn-sm btn-outline-light">For Attendees</a>
                        <a href="#payments" class="btn btn-sm btn-outline-light">Payments</a>
                        <a href="#technical" class="btn btn-sm btn-outline-light">Technical</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Categories -->
    <div class="container py-5">
        <!-- General Questions -->
        <section id="general" class="mb-5">
            <div class="d-flex align-items-center mb-4 animate__animated" data-animation="fadeInUp">
                <div class="icon-box bg-primary bg-opacity-10 text-primary rounded-circle me-3">
                    <i class="bi bi-question-circle fs-4"></i>
                </div>
                <h2 class="mb-0">General Questions</h2>
            </div>
            
            <div class="accordion" id="generalAccordion">
                <!-- Question 1 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp">
                    <h3 class="accordion-header" id="generalHeadingOne">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#generalCollapseOne" aria-expanded="false" aria-controls="generalCollapseOne">
                            What is Festiva?
                        </button>
                    </h3>
                    <div id="generalCollapseOne" class="accordion-collapse collapse" aria-labelledby="generalHeadingOne" data-bs-parent="#generalAccordion">
                        <div class="accordion-body">
                            <p>Festiva is an all-in-one event management platform that helps organizers create, promote, and sell tickets to events. Attendees can discover exciting events in their area and purchase tickets seamlessly through our platform.</p>
                            <p>Key features include:</p>
                            <ul>
                                <li>Event creation and customization</li>
                                <li>Ticket sales and management</li>
                                <li>Marketing tools</li>
                                <li>Attendee engagement features</li>
                                <li>Analytics and reporting</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp" data-delay="100">
                    <h3 class="accordion-header" id="generalHeadingTwo">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#generalCollapseTwo" aria-expanded="false" aria-controls="generalCollapseTwo">
                            Is there a mobile app available?
                        </button>
                    </h3>
                    <div id="generalCollapseTwo" class="accordion-collapse collapse" aria-labelledby="generalHeadingTwo" data-bs-parent="#generalAccordion">
                        <div class="accordion-body">
                            <p>Yes! Festiva has mobile apps for both iOS and Android devices. You can download them from:</p>
                            <div class="row mt-3">
                                <div class="col-md-6 mb-3">
                                    <a href="#" class="btn btn-dark w-100 py-2">
                                        <i class="bi bi-apple me-2"></i> App Store
                                    </a>
                                </div>
                                <div class="col-md-6">
                                    <a href="#" class="btn btn-success w-100 py-2">
                                        <i class="bi bi-google-play me-2"></i> Google Play
                                    </a>
                                </div>
                            </div>
                            <p class="mt-3">Our mobile apps offer all the functionality of the web platform with additional features like push notifications for event updates and mobile ticket scanning.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Question 3 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp" data-delay="200">
                    <h3 class="accordion-header" id="generalHeadingThree">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#generalCollapseThree" aria-expanded="false" aria-controls="generalCollapseThree">
                            How do I contact customer support?
                        </button>
                    </h3>
                    <div id="generalCollapseThree" class="accordion-collapse collapse" aria-labelledby="generalHeadingThree" data-bs-parent="#generalAccordion">
                        <div class="accordion-body">
                            <p>We offer multiple ways to contact our support team:</p>
                            <ul class="list-group list-group-flush mb-3">
                                <li class="list-group-item">
                                    <strong><i class="bi bi-chat-left-text me-2 text-primary"></i>Live Chat:</strong> Available 24/7 through the help icon in the bottom right corner
                                </li>
                                <li class="list-group-item">
                                    <strong><i class="bi bi-envelope me-2 text-primary"></i>Email:</strong> support@festiva.com (typically respond within 2 hours)
                                </li>
                                <li class="list-group-item">
                                    <strong><i class="bi bi-telephone me-2 text-primary"></i>Phone:</strong> +1 (800) 555-1234 (Mon-Fri, 9am-5pm EST)
                                </li>
                            </ul>
                            <p>For faster help, please have your account email or event details ready.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- For Organizers -->
        <section id="organizers" class="mb-5">
            <div class="d-flex align-items-center mb-4 animate__animated" data-animation="fadeInUp">
                <div class="icon-box bg-success bg-opacity-10 text-success rounded-circle me-3">
                    <i class="bi bi-calendar-event fs-4"></i>
                </div>
                <h2 class="mb-0">For Event Organizers</h2>
            </div>
            
            <div class="accordion" id="organizerAccordion">
                <!-- Question 1 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp">
                    <h3 class="accordion-header" id="organizerHeadingOne">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#organizerCollapseOne" aria-expanded="false" aria-controls="organizerCollapseOne">
                            How do I create an event?
                        </button>
                    </h3>
                    <div id="organizerCollapseOne" class="accordion-collapse collapse" aria-labelledby="organizerHeadingOne" data-bs-parent="#organizerAccordion">
                        <div class="accordion-body">
                            <p>Creating an event on Festiva is simple:</p>
                            <ol>
                                <li>Log in to your organizer account</li>
                                <li>Click "Create Event" in your dashboard</li>
                                <li>Fill in event details (name, date, location, etc.)</li>
                                <li>Set up ticket types and pricing</li>
                                <li>Customize your event page with images and descriptions</li>
                                <li>Publish your event when ready</li>
                            </ol>
                            <div class="alert alert-info mt-3">
                                <i class="bi bi-lightbulb me-2"></i> Pro Tip: Save your event as a draft to work on it later before publishing.
                            </div>
                            <a href="#" class="btn btn-outline-success mt-2">View Detailed Guide</a>
                        </div>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp" data-delay="100">
                    <h3 class="accordion-header" id="organizerHeadingTwo">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#organizerCollapseTwo" aria-expanded="false" aria-controls="organizerCollapseTwo">
                            What fees does Festiva charge?
                        </button>
                    </h3>
                    <div id="organizerCollapseTwo" class="accordion-collapse collapse" aria-labelledby="organizerHeadingTwo" data-bs-parent="#organizerAccordion">
                        <div class="accordion-body">
                            <p>Festiva charges a service fee for each ticket sold. Our standard pricing is:</p>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Ticket Price</th>
                                        <th>Service Fee</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Under $50</td>
                                        <td>$2.50 + 5%</td>
                                    </tr>
                                    <tr>
                                        <td>$50-$100</td>
                                        <td>$3.50 + 4.5%</td>
                                    </tr>
                                    <tr>
                                        <td>Over $100</td>
                                        <td>$5.00 + 3.5%</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>You can choose to absorb these fees or pass them on to attendees during checkout.</p>
                            <div class="alert alert-warning">
                                <i class="bi bi-exclamation-triangle me-2"></i> Additional payment processing fees may apply from our payment partners.
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Question 3 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp" data-delay="200">
                    <h3 class="accordion-header" id="organizerHeadingThree">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#organizerCollapseThree" aria-expanded="false" aria-controls="organizerCollapseThree">
                            How do I get paid for ticket sales?
                        </button>
                    </h3>
                    <div id="organizerCollapseThree" class="accordion-collapse collapse" aria-labelledby="organizerHeadingThree" data-bs-parent="#organizerAccordion">
                        <div class="accordion-body">
                            <p>Festiva offers several payout options:</p>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="bi bi-bank me-2 text-primary"></i>Bank Transfer</h5>
                                            <p class="card-text">Direct deposit to your bank account (3-5 business days)</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h5 class="card-title"><i class="bi bi-paypal me-2 text-primary"></i>PayPal</h5>
                                            <p class="card-text">Instant transfers to your PayPal account</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3">Payouts are processed 3 business days after your event ends. You can track your earnings in real-time through your organizer dashboard.</p>
                            <a href="#" class="btn btn-outline-success">View Payout Settings</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- For Attendees -->
        <section id="attendees" class="mb-5">
            <div class="d-flex align-items-center mb-4 animate__animated" data-animation="fadeInUp">
                <div class="icon-box bg-warning bg-opacity-10 text-warning rounded-circle me-3">
                    <i class="bi bi-ticket-perforated fs-4"></i>
                </div>
                <h2 class="mb-0">For Attendees</h2>
            </div>
            
            <div class="accordion" id="attendeeAccordion">
                <!-- Question 1 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp">
                    <h3 class="accordion-header" id="attendeeHeadingOne">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#attendeeCollapseOne" aria-expanded="false" aria-controls="attendeeCollapseOne">
                            How do I get my tickets after purchasing?
                        </button>
                    </h3>
                    <div id="attendeeCollapseOne" class="accordion-collapse collapse" aria-labelledby="attendeeHeadingOne" data-bs-parent="#attendeeAccordion">
                        <div class="accordion-body">
                            <p>After purchasing tickets, you'll receive them in several ways:</p>
                            <ul>
                                <li><strong>Email:</strong> Sent to the email address used during purchase (check spam folder)</li>
                                <li><strong>Mobile App:</strong> Available in the "My Tickets" section of the Festiva app</li>
                                <li><strong>Account Dashboard:</strong> Accessible when logged in to festiva.com</li>
                            </ul>
                            <p>Tickets typically include a QR code that will be scanned at the event entrance.</p>
                            <div class="alert alert-info">
                                <i class="bi bi-lightbulb me-2"></i> You can also transfer tickets to friends directly from your account.
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="accordion-item border-0 shadow-sm mb-3 animate__animated" data-animation="fadeInUp" data-delay="100">
                    <h3 class="accordion-header" id="attendeeHeadingTwo">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#attendeeCollapseTwo" aria-expanded="false" aria-controls="attendeeCollapseTwo">
                            What is your refund policy?
                        </button>
                    </h3>
                    <div id="attendeeCollapseTwo" class="accordion-collapse collapse" aria-labelledby="attendeeHeadingTwo" data-bs-parent="#attendeeAccordion">
                        <div class="accordion-body">
                            <p>Our refund policy depends on the event organizer's settings:</p>
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h5 class="card-title text-success"><i class="bi bi-check-circle me-2"></i>Flexible</h5>
                                            <p class="card-text">Full refund up to 24 hours before event</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h5 class="card-title text-warning"><i class="bi bi-exclamation-triangle me-2"></i>Moderate</h5>
                                            <p class="card-text">Refund up to 7 days before event (minus fees)</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h5 class="card-title text-danger"><i class="bi bi-x-circle me-2"></i>Strict</h5>
                                            <p class="card-text">No refunds, but tickets can be transferred</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p class="mt-3">The specific policy for each event is displayed during checkout. To request a refund, go to "My Tickets" in your account and follow the prompts.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Still Need Help Section -->
        <section class="bg-light p-5 rounded-3 animate__animated" data-animation="fadeIn">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h3 class="fw-bold mb-3">Still have questions?</h3>
                    <p class="mb-md-0">Our support team is available 24/7 to help with any issues or questions you might have.</p>
                </div>
                <div class="col-md-4 text-md-end mt-3 mt-md-0">
                    <a href="{% url 'contact' %}" class="btn btn-primary btn-lg">Contact Support</a>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .faq-hero {
        background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        color: white;
    }
    
    .icon-box {
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .accordion-button:not(.collapsed) {
        background-color: rgba(13, 110, 253, 0.05);
        color: #0d6efd;
        box-shadow: none;
    }
    
    .accordion-button:focus {
        box-shadow: none;
        border-color: rgba(0,0,0,.125);
    }
    
    /* Animation Styles */
    [data-animation] {
        opacity: 0;
    }
    
    /* Responsive adjustments */
    @media (max-width: 767.98px) {
        .faq-hero {
            padding: 3rem 0 !important;
        }
        
        .accordion-button {
            font-size: 1rem;
            padding: 0.75rem 1rem;
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<!-- Animate.css -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Scroll animations
    const animateOnScroll = function() {
        const elements = document.querySelectorAll('[data-animation]');
        
        elements.forEach(element => {
            const elementPosition = element.getBoundingClientRect().top;
            const windowHeight = window.innerHeight;
            
            if (elementPosition < windowHeight - 100) {
                const animation = element.getAttribute('data-animation');
                const delay = element.getAttribute('data-delay') || 0;
                
                element.style.animationDelay = `${delay}ms`;
                element.classList.add('animate__animated', `animate__${animation}`);
                element.style.opacity = 1;
            }
        });
    };
    
    // Run on load and scroll
    animateOnScroll();
    window.addEventListener('scroll', animateOnScroll);
    
    // FAQ search functionality
    const faqSearch = document.getElementById('faqSearch');
    const searchButton = document.getElementById('searchButton');
    
    searchButton.addEventListener('click', function() {
        const searchTerm = faqSearch.value.toLowerCase();
        if (searchTerm.trim() === '') return;
        
        const questions = document.querySelectorAll('.accordion-button');
        let foundMatch = false;
        
        questions.forEach(question => {
            const questionText = question.textContent.toLowerCase();
            if (questionText.includes(searchTerm)) {
                question.scrollIntoView({ behavior: 'smooth', block: 'center' });
                question.classList.add('bg-warning', 'bg-opacity-10');
                setTimeout(() => {
                    question.classList.remove('bg-warning', 'bg-opacity-10');
                }, 2000);
                foundMatch = true;
            }
        });
        
        if (!foundMatch) {
            alert('No matching questions found. Try different keywords.');
        }
    });
    
    // Allow search on Enter key
    faqSearch.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            searchButton.click();
        }
    });
    
    // Smooth scroll for category links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}